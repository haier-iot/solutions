
>**当前版本：** [APP设备功能开发 V1.0](zh-cn/ChangeLog/sl7)   
**更新时间：** {docsify-updated} 



## APP设备功能开发方案

### 介绍  

?> 本方案为企业级APP开发者开发功能界面提供指导。   

### 前提    

?> 硬件开发者需在海极网创建设备。可参考《U+开放平台产品接入操作手册》。 


### 名词解释  

**设备功能模板：**    

某类设备的功能集文档，由海极网提供，通常该类设备的功能模板至少有一个。例如柜机空调设备的柜机空调模板、分体空调设备的分体空调模板、冰箱设备的冰箱模板和IFT带屏模板，等等。  


**设备功能模型：**  

某一设备的功能集文档，由海极网提供，通常一台设备的功能模型文档有一个。


**TypeId：**   

设备类型标识的唯一识别码，由64字节的 16 进制数值组成。同一个TypeId设备下包含了多个不同型号的设备。硬件开发者在海极网创建设备后生成TypeId。  

**设备型号：**   

设备规格的一种标志。购买后见设备使用说明书。  

#### 关系图  

![关系图][sl7_er] 

<!--  

**设备功能界面模板：**  

硬件开发者在海极网创建的设备存在功能集相似的情况，对于应用开发者来说，每接入一个设备就需要开发一个设备功能界面并维护功能关系，为方便快速开发，应用开发者可根据设备功能模板开发设备功能界面模板，真正接入设备时，只需通过获取设备功能数据来匹配界面模板，从而显示或隐藏相应功能界面。省去了重复工作提高了开发效率。  

-->

### 应用场景  

![整体方案图片][sl7_ztfa]  

1、	应用开发者根据设备功能模板开发自己所需的设备功能界面模板；  
2、	在APP设备列表界面中，当用户点击某个设备（空调设备）时，应用开发者需要根据该设备的TypeId获取海极网设备功能模型数据（json）,建议应用开发者将设备功能模型数据存入自己的服务中,通过请求本地服务来获取设备功能模型数据；  
3、	获取到设备功能模型数据后，应用开发者需要将获取的数据与已开发好的设备功能界面模板进行匹配，从而将需要的功能显示，不需要的功能隐藏或置灰；  
4、	渲染匹配后生成真正需要的设备功能界面；如果设备有自定义的功能则需要应用开发者自行添加该功能。后续再有同类设备接入可直接匹配设备功能界面模板，无需维护功能的命令关系。  


**说明：**  

| 步骤   | 属性   | 信息提供方  | 说明|  
| -----|:---------:|:-----:|:--------:|
| 1    | 设备功能模板  |硬件开发者 |海尔设备由海极网提供 |  
| 1    | APP设备功能界面模板  |应用开发者 |功能界面模板由APP开发者开发 |  
| 2    | 设备功能模型数据  |海极网 |Rest接口 仅支持Https请求或提供json文档 |  
| 3    | APP设备列表界面  |应用开发者 |列表界面由APP开发者开发 |  
| 4    | APP设备功能界面  |应用开发者 |通过匹配渲染设备功能界面模板获得 |  
  
  

### 开发APP设备功能流程图   


![流程图][sl7_rjgc]  



### 设备功能模板获取方式  

  
?> 联系海极网王少辉（wangshaohui@haier.com）获取。  



### 设备功能模型数据获取方式  

?> 为json格式数据，联系海极网王少辉（wangshaohui@haier.com）获取。  






[^-^]:常用图片注释
[sl7_ztfa]:_media/_Solutions/sl7ztfa.png  

[sl7_rjgc]:_media/_Solutions/sl7rjgc.png  

[sl7_er]:_media/_Solutions/sl7er.png     