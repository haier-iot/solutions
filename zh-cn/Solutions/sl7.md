
>**当前版本：** [APP设备功能开发 V1.0](zh-cn/ChangeLog/sl7)   
**更新时间：** {docsify-updated} 



### 介绍  

?> APP设备功能开发方案。本方案为B平台（企业级）APP开发者开发功能界面提供指导。   

### 前提    

?> 硬件开发者需在海极网创建设备或已有采购的海尔设备。可参考《U+开放平台产品接入操作手册》。 


### 名词解释  

**设备大类功能模板：**    

某类设备的功能集文档，由海极网提供，通常该类设备的功能模板至少有一个。例如柜机空调设备的柜机空调模板、分体空调设备的分体空调模板、冰箱设备的冰箱模板和IFT带屏模板，等等。  


**设备功能模型文档：**  

某一设备的功能集文档，由海极网提供，通常一台设备的功能模型文档有一个。


**TypeId：**   

设备类型标识的唯一识别码，由64字节的 16 进制数值组成。同一个TypeId设备下包含了多个不同型号的设备。硬件开发者在海极网创建设备后生成TypeId。  

**设备型号：**   

设备规格的一种标志。购买后见设备使用说明书。  

#### 关系图  

![关系图][sl7_er] 


### 业务流程  

B端平台与U+平台对接，选定设备型号，按照功能模型文档进行对接开发完成后，更换或添加同品类新型号设备时，无需重新对接开发。  

![业务流程图片][sl7_yewu]   

例如，某B端平台选定了一批设备（比如XX1型号的冰箱）与U+平台进行对接，需要根据冰箱类设备功能模板和自身业务现状，选取冰箱类设备的公共功能进行设备功能界面模板开发，然后根据XX1型号的功能模型文档与已开发好的设备功能界面模板进行匹配渲染，从而显示或隐藏相应的功能界面；交付运营一段时间后，该平台需要增加XX2型号的冰箱，进行功能升级，此时B端平台只需要根据新型号的功能模型文档，与事先开发的冰箱类功能界面模板进行匹配渲染即可，无需重新进行对接开发工作，如果冰箱类设备功能模板界面里没有XX2型号的功能则需开发者自行添加。  


### 开发流程   
 
![整体方案图片][sl7_ztfa]    


#### APP开发前准备 

?> 登录海极网：http://www.haigeek.com，进入开发者中心。    

![登录图片][sl7_login] 	

?> 点击“注册帐号”进行帐号注册，根据要创建的帐号类型选择个人开发者或企业用户，注册企业用户需要管理员审核，建议注册企业用户。  

![注册图片][sl7_register]   

?> 进入产品中心，点击“创建应用”，选择app类型，点击“确定”。

![创建app图片][sl7_creat]   

![app图片][sl7_app] 

?> 填写必填信息，点击“保存”。

![info图片][sl7_info]    

?> 保存后进入下图界面，“应用名称”栏提示‘开发中’表示创建的应用需要在开发者环境开发测试，测试通过后提交申请接入生产环境。  
?> 根据应用类型在下图中下载对应的sdk，以安卓为例点击“安卓版本” 。

![sdk图片][sl7_sdk]   

?> 点击“安卓版资料” ，包含了uSDK的开发手册、Demo、uSDK开发包等。

![文档图片][sl7_resources]   

?> 为创建的应用添加服务，获取接口服务文档。

![服务图片][sl7_server]    
 

#### APP开发  


?> 开发者搭建自己的工程，导入uSDK。









<!--     
1、	应用开发者根据设备功能模板开发自己所需的设备功能界面模板；  
2、	在APP设备列表界面中，当用户点击某个设备（空调设备）时，应用开发者需要根据该设备的TypeId获取海极网设备功能模型数据（json）,建议应用开发者将设备功能模型数据存入自己的服务中,通过请求本地服务来获取设备功能模型数据；  
3、	获取到设备功能模型数据后，应用开发者需要将获取的数据与已开发好的设备功能界面模板进行匹配，从而将需要的功能显示，不需要的功能隐藏或置灰；  
4、	渲染匹配后生成真正需要的设备功能界面；如果设备有自定义的功能则需要应用开发者自行添加该功能。后续再有同类设备接入可直接匹配设备功能界面模板，无需维护功能的命令关系。  

**说明：**  

| 步骤   | 属性   | 信息提供方  | 说明|  
| -----|:---------:|:-----:|:--------:|
| 1    | 设备功能模板  |硬件开发者 |海尔设备由海极网提供 |  
| 1    | APP设备功能界面模板  |应用开发者 |功能界面模板由APP开发者开发 |  
| 2    | 设备功能模型数据  |海极网 |Rest接口 仅支持Https请求或提供json文档 |  
| 3    | APP设备列表界面  |应用开发者 |列表界面由APP开发者开发 |  
| 4    | APP设备功能界面  |应用开发者 |通过匹配渲染设备功能界面模板获得 |  
  
### 开发APP设备功能流程图   

![流程图][sl7_rjgc]  

-->

### 设备大类功能模板获取方式  

  
?> 联系海极网王少辉（wangshaohui@haier.com）获取。  



### 设备功能模型文档获取方式  

?> 为json格式数据，联系海极网王少辉（wangshaohui@haier.com）获取。  





[^-^]:常用图片注释
[sl7_ztfa]:_media/_Solutions/sl7ztfa.png  

[sl7_rjgc]:_media/_Solutions/sl7rjgc.png  

[sl7_er]:_media/_Solutions/sl7er.png    

[sl7_yewu]:_media/_Solutions/sl7yewu.png    

[sl7_login]:_media/_Solutions/sl7login.png  

[sl7_register]:_media/_Solutions/sl7register.png   

[sl7_creat]:_media/_Solutions/sl7creat.png     

[sl7_app]:_media/_Solutions/sl7app.png    

[sl7_info]:_media/_Solutions/sl7info.png 

[sl7_sdk]:_media/_Solutions/sl7usdk.png  

[sl7_world]:_media/_Solutions/sl7world.png 

[sl7_resources]:_media/_Solutions/sl7resources.png   

[sl7_server]:_media/_Solutions/sl7server.png   
